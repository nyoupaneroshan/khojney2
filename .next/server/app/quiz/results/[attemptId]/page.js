(()=>{var e={};e.id=830,e.ids=[830],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4969:(e,t,s)=>{Promise.resolve().then(s.bind(s,6874))},6874:(e,t,s)=>{"use strict";s.d(t,{default:()=>g});var r=s(13486),a=s(60159),i=s(49989),n=s.n(i),o=s(54528),l=s(84667);let c=(0,l.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),d=(0,l.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var p=s(15998);let x=(0,l.A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),u=(0,l.A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var h=s(19626),m=s(49391),y=s(23365),j=s(47985);let k=({score:e,total:t})=>{let s=t>0?e/t:0,a=2*Math.PI*45,i=a*(1-s),n="text-red-500";return s>=.75?n="text-green-400":s>=.4&&(n="text-yellow-500"),(0,r.jsxs)("div",{className:"relative w-40 h-40",children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,r.jsx)("circle",{className:"text-slate-700",strokeWidth:"8",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50"}),(0,r.jsx)(o.P.circle,{className:n,strokeWidth:"8",strokeDasharray:a,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:"45",cx:"50",cy:"50",transform:"rotate(-90 50 50)",initial:{strokeDashoffset:a},animate:{strokeDashoffset:i},transition:{duration:1.5,ease:"easeOut",delay:.5}})]}),(0,r.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[(0,r.jsx)("span",{className:`text-5xl font-bold ${n}`,children:e}),(0,r.jsxs)("span",{className:"text-lg text-slate-400",children:["/ ",t]})]})]})},b=({label:e,value:t,icon:s,colorClass:a="text-white"})=>(0,r.jsxs)("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[s,(0,r.jsx)("p",{className:"text-sm",children:e})]}),(0,r.jsx)("p",{className:`text-2xl font-bold mt-1 ${a}`,children:t})]});function g({attemptId:e,stats:t,reviews:s}){let[i,l]=(0,a.useState)(!1),g=(e,t)=>{let s=t?.selected_option_id===e.id,r=e.is_correct;return r?"bg-green-500/20 border-green-500 text-white":s&&!r?"bg-red-500/20 border-red-500 text-white":"bg-slate-800/50 border-slate-700"},f=(e,t)=>{let s=t?.selected_option_id===e.id;return e.is_correct?(0,r.jsx)(c,{className:"h-6 w-6 text-green-400 flex-shrink-0"}):s&&!e.is_correct?(0,r.jsx)(d,{className:"h-6 w-6 text-red-400 flex-shrink-0"}):(0,r.jsx)("div",{className:"h-6 w-6 flex-shrink-0"})};return(0,r.jsx)("main",{className:"min-h-screen flex-col items-center p-4 sm:p-8 bg-slate-900 text-white font-sans",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)(n(),{href:"/dashboard",className:"inline-flex items-center gap-2 text-cyan-400 hover:text-cyan-300 transition-colors",children:[(0,r.jsx)(p.A,{className:"h-5 w-5"})," Back to Dashboard"]}),(0,r.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(window.location.href),l(!0),setTimeout(()=>l(!1),2e3)},className:"inline-flex items-center gap-2 bg-slate-700 hover:bg-slate-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:[i?(0,r.jsx)(x,{className:"h-5 w-5 text-green-400"}):(0,r.jsx)(u,{className:"h-5 w-5"}),i?"Copied!":"Share"]})]}),(0,r.jsxs)("div",{className:"text-center mb-10",children:[(0,r.jsx)("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-cyan-300 to-purple-400 mb-2",children:"Quiz Results"}),(0,r.jsxs)("p",{className:"text-lg text-slate-400",children:["Category: ",t.categoryName]})]})]}),(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"p-6 sm:p-8 mb-12 bg-slate-800/50 border border-slate-700/60 rounded-2xl shadow-2xl flex flex-col md:flex-row items-center gap-8 backdrop-blur-sm",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)(k,{score:t.correctAnswers,total:t.totalQuestions})}),(0,r.jsxs)("div",{className:"w-full grid grid-cols-2 gap-4",children:[(0,r.jsx)(b,{label:"Accuracy",value:`${t.accuracy}%`,icon:(0,r.jsx)(h.A,{size:16})}),(0,r.jsx)(b,{label:"Correct",value:t.correctAnswers,icon:(0,r.jsx)(m.A,{size:16}),colorClass:"text-green-400"}),(0,r.jsx)(b,{label:"Incorrect",value:t.totalQuestions-t.correctAnswers,icon:(0,r.jsx)(d,{size:16}),colorClass:"text-red-400"}),(0,r.jsx)(b,{label:"Time / Q",value:`${t.timePerQuestion}s`,icon:(0,r.jsx)(y.A,{size:16})})]})]}),(0,r.jsxs)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,r.jsx)(j.A,{className:"h-6 w-6 text-yellow-400"}),(0,r.jsx)("h2",{className:"text-3xl font-bold",children:"Answer Review"})]}),(0,r.jsx)("div",{className:"space-y-6",children:s.map((e,t)=>(0,r.jsxs)("div",{className:"p-6 bg-slate-800/50 border border-slate-700/60 rounded-xl transition-shadow hover:shadow-xl",children:[(0,r.jsxs)("p",{className:"text-lg font-semibold mb-4 text-slate-200",children:[(0,r.jsxs)("span",{className:"text-slate-500 mr-2",children:["Q",t+1,"."]}),e.questions.question_text_en]}),(0,r.jsx)("ul",{className:"space-y-3 mb-4",children:e.questions.options.map(t=>(0,r.jsxs)("li",{className:`p-3 rounded-lg border-2 flex items-center gap-4 ${g(t,e)}`,children:[f(t,e),(0,r.jsx)("span",{children:t.option_text_en})]},t.id))}),e.questions.explanation_en&&(0,r.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-700/50",children:[(0,r.jsx)("p",{className:"font-semibold text-cyan-300 mb-1",children:"Explanation:"}),(0,r.jsx)("p",{className:"text-slate-300/90",children:e.questions.explanation_en})]})]},e.question_id))})]})]})})}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},14697:(e,t,s)=>{Promise.resolve().then(s.bind(s,32187))},15998:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19626:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]])},23365:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},27828:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,generateMetadata:()=>l});var r=s(38828),a=s(85296),i=s(65208),n=s(42543),o=s(32187);async function l({params:e}){let t=(0,i.UL)(),s=(0,a.createServerClient)("https://uxpdqthqyttujyvqwaeh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4cGRxdGhxeXR0dWp5dnF3YWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NzE3MzgsImV4cCI6MjA2NDU0NzczOH0.clopYxo2qaXYmw4poLnEoJOe6hXXotZwR3GYZL_GdMQ",{cookies:{get:e=>t.get(e)?.value}}),{data:r}=await s.from("quiz_attempts").select("score, categories(name_en)").eq("id",e.attemptId).single();return r?{title:`My Quiz Result: ${r.score} in ${r.categories?.name_en||"General Knowledge"}!`,description:"I took a quiz on Khojney App! Check out my score and try to beat it."}:{title:"Quiz Result Not Found"}}async function c({params:e}){let t=(0,i.UL)(),s=(0,a.createServerClient)("https://uxpdqthqyttujyvqwaeh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4cGRxdGhxeXR0dWp5dnF3YWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NzE3MzgsImV4cCI6MjA2NDU0NzczOH0.clopYxo2qaXYmw4poLnEoJOe6hXXotZwR3GYZL_GdMQ",{cookies:{get:e=>t.get(e)?.value}}),{attemptId:l}=e,{data:{user:c}}=await s.auth.getUser();c||(0,n.redirect)("/");let{data:d,error:p}=await s.from("quiz_attempts").select(`
        *,
        categories(name_en),
        user_answers(
            question_id,
            selected_option_id,
            questions(
                id,
                question_text_en,
                explanation_en,
                options(id, option_text_en, is_correct)
            )
        )
    `).eq("id",l).eq("user_id",c.id).single();(p||!d)&&(0,n.notFound)();let x=d.user_answers.length,u=d.score||0,h=x>0?Math.round(u/x*100):0,m=x>0&&d.time_taken_seconds?(d.time_taken_seconds/x).toFixed(1):0,y={totalQuestions:x,correctAnswers:u,accuracy:h,timeTaken:d.time_taken_seconds,timePerQuestion:m,categoryName:d.categories?.name_en||"Quiz",completedAt:d.completed_at};return(0,r.jsx)(o.default,{attemptId:l,stats:y,reviews:d.user_answers})}},27910:e=>{"use strict";e.exports=require("stream")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32187:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(33952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/nyoupane/Documents/11TechMedia/QuizApp/khojney/khojney_main/khojney-app/new_khojney/khojney-main/src/app/quiz/results/[attemptId]/results-client.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/nyoupane/Documents/11TechMedia/QuizApp/khojney/khojney_main/khojney-app/new_khojney/khojney-main/src/app/quiz/results/[attemptId]/results-client.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},47985:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]])},49391:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(84667).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},89450:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(24332),a=s(48819),i=s(67851),n=s.n(i),o=s(97540),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c={children:["",{children:["quiz",{children:["results",{children:["[attemptId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,27828)),"/Users/nyoupane/Documents/11TechMedia/QuizApp/khojney/khojney_main/khojney-app/new_khojney/khojney-main/src/app/quiz/results/[attemptId]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,20685)),"/Users/nyoupane/Documents/11TechMedia/QuizApp/khojney/khojney_main/khojney-app/new_khojney/khojney-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,39956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,92341,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,9699))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/Users/nyoupane/Documents/11TechMedia/QuizApp/khojney/khojney_main/khojney-app/new_khojney/khojney-main/src/app/quiz/results/[attemptId]/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/quiz/results/[attemptId]/page",pathname:"/quiz/results/[attemptId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[50,199,253,154,989,296,208,464],()=>s(89450));module.exports=r})();