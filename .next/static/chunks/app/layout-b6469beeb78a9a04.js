(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{10977:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>c});var n=r(54568),o=r(7620),i=r(36958),s=r(37932);let u="user_role",a=(0,o.createContext)(void 0),l=()=>{let e=(0,o.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:t}=e,[r,l]=(0,o.useState)(null),[c,d]=(0,o.useState)(null),[p,f]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let e=async e=>{if(l(e),null==e?void 0:e.user){let{data:t,error:r}=await i.N.from("profiles").select("role").eq("id",e.user.id).single();if(r)console.error("Error fetching user role:",r.message),d(null),s.A.remove(u);else if(t){d(t.role);let r=e.expires_in,n=r?new Date(Date.now()+1e3*r):void 0;s.A.set(u,t.role,{expires:n})}else console.warn("User profile not found for ID:",e.user.id),d(null),s.A.remove(u)}else d(null),s.A.remove(u);f(!1)};i.N.auth.getSession().then(t=>{let{data:{session:r}}=t;e(r)});let{data:{subscription:t}}=i.N.auth.onAuthStateChange((t,r)=>{e(r)});return()=>t.unsubscribe()},[]),(0,n.jsx)(a.Provider,{value:{session:r,loadingAuth:p,userRole:c},children:t})}},36958:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n=(0,r(36154).createBrowserClient)("https://uxpdqthqyttujyvqwaeh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InV4cGRxdGhxeXR0dWp5dnF3YWVoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NzE3MzgsImV4cCI6MjA2NDU0NzczOH0.clopYxo2qaXYmw4poLnEoJOe6hXXotZwR3GYZL_GdMQ")},37932:(e,t,r)=>{"use strict";function n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)e[n]=r[n]}return e}r.d(t,{A:()=>o});var o=function e(t,r){function o(e,o,i){if("undefined"!=typeof document){"number"==typeof(i=n({},r,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in i)i[u]&&(s+="; "+u,!0!==i[u]&&(s+="="+i[u].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+s}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],n={},o=0;o<r.length;o++){var i=r[o].split("="),s=i.slice(1).join("=");try{var u=decodeURIComponent(i[0]);if(n[u]=t.read(s,u),e===u)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},63922:(e,t,r)=>{Promise.resolve().then(r.bind(r,10977)),Promise.resolve().then(r.t.bind(r,86572,23)),Promise.resolve().then(r.t.bind(r,73139,23))},73139:()=>{},86572:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_f367f3"}}},e=>{var t=t=>e(e.s=t);e.O(0,[779,154,587,315,358],()=>t(63922)),_N_E=e.O()}]);